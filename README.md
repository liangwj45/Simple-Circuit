# Simple Circuit

> 程序设计 Ⅱ 期末项目 梁文杰 16303050 数据科学与计算机学院软件工程 17 级教务二班

### 运行环境

- Windows/Linux

### 编译运行

- 编译
  在项目根目录下，在 Terminal 执行
  `make`
- 运行
  `make run`

### 项目说明

命令行版的门电路实验程序的简单实现

- 支持与门`AND`、或门`OR`、非门`NOT`、与非门`NAND`、或非门`NOR`、异或门`XOR`、同或门`NXOR`以及输入端`IN`和输出端`OUT`等基本器件
- 与门、或门、与非门、或非门支持**多输入**，单输出
- 各逻辑门输出由多个输入共同控制，若无输入，则输出为**无效电平**
- 与门、或门、与非门、或非门只要有输入，输出即有效，其他输入**可悬空**
- 异或门、同或门输入少于两个时，输出为**无效电平**
- 支持简单的环异常检测，根据目前判断标准无法搭建 JK 触发器或 D 触发器
- 输入默认低电平，通过`set`更改（置反）

### 使用说明

####指令介绍

- **add 添加门**
  ```
  add $name $num
  add in 3 // 添加三个输入端（命名为 in1, in2, in3）
  add and 2 // 添加两个两输入与门（add 模式默认为两输入）
  add out 1 // 添加一个输出端
  ```
- **addn 添加门**
  ```
  addn $name $num
  addn and 3 1 // 添加一个三输入与门
  addn nor 4 2 // 添加两个四输出或非门
  ```
- **del 删除门**
  ```
  del
  ```
- **con 添加连接**
  ```
  con $name $num $name1 ($name2 .. $namen)
  con in1 2 out1 out2 // 将 in1 与 out1 和 out2 连接
  ```
- **dc 删除连接**
  ```
  dc in1 and1 // 删除 in1 跟 and1 的连接
  ```
- **set 更改输出电平**
  ```
  set in1 // 更改 in1 的电平，0->1 1->0
  ```
- **ls 打印所有的门**
  ```
  ls
  ```
- **ds 打印所有的连接情况**
  ```
  ds
  ```
- **run 运行电路，打印输入输出的电平**
  ```
  run
  ```
- **off 停止运行电路**
  ```
  off
  ```

#### 连接说明

该程序电路的连接方式为有向连接，比如`connect(a, b)`表示为`a`的输出与`b`的输入连接

- `IN`为连接起点，其他门不能连接到`IN`
- `OUT`为连接终点，不能连接到其他门

### 其他

test_in 文件中的内容为一位全加器电路的搭建和测试
